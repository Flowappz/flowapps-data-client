window.formFieldsDropdown=()=>{const e={DROPDOWN_TOGGLER:"[form-field-dropdown-toggler]",SEARCHABLE_DROPDOWN_TOGGLER:"[form-field-searchable-dropdown-toggler]",DROPDOWN_INPUT:"[form-field-dropdown-input]",DROPDOWN_ITEM:"[form-field-dropdown-item]",DROPDOWN_LIST:"[form-field-dropdown-item-list]",DROPDOWN_TOGGLERS_SELECTED_VALUE:"[form-field-dropdown-toggler-selected-value]"},t={NAME:"dropdown-name"},r={INPUT_FIELD:"input-field",INPUT_DATA:"input-data"};const o={},n={},d={},l={},i={},f={};function a(){return document.querySelectorAll(e.DROPDOWN_ITEM)}const s=()=>{for(let t of document.querySelectorAll("[form-field-dropdown-item-list]"))t.addEventListener("click",e=>e.stopPropagation()),document.body.addEventListener("click",function(e){!function e(t,o){return!!t&&(t===o||e(t.parentNode,o))}(e.target,t)&&(t.style.display="none")})};var c,u,E,D,A,O,p;for(c of document.querySelectorAll(e.DROPDOWN_TOGGLER)){var y=c.getAttribute(t.NAME);o[y]=c}for(u of document.querySelectorAll(e.DROPDOWN_TOGGLERS_SELECTED_VALUE)){var N=u.getAttribute(t.NAME);l[N]=u}for(E of document.querySelectorAll(e.SEARCHABLE_DROPDOWN_TOGGLER)){var L=E.getAttribute(t.NAME);n[L]=E}for(D of document.querySelectorAll(e.DROPDOWN_LIST)){var m=D.getAttribute(t.NAME);i[m]=D}for(A of document.querySelectorAll(e.DROPDOWN_INPUT)){var T=A.getAttribute("name");f[T]=A}for(O of a()){var _=O.getAttribute(r.INPUT_FIELD);n[_]&&(_&&d[_]?d[_].push(O):_&&(d[_]=[O]))}for(p in o){const P=o[p];P.addEventListener("click",e=>{e.stopPropagation();e=P.getAttribute(t.NAME);e&&"block"!==i[e].style.display?i[e].style.display="block":e&&"block"===i[e].style.display&&(i[e].style.display="none")})}for(let o of a())o.addEventListener("click",()=>{var e=o.getAttribute(r.INPUT_DATA),t=o.getAttribute(r.INPUT_FIELD);t&&(f[t].value=e,n[t]||(l[t].innerHTML=e),i[t].style.display="none")});for(let l of Object.keys(n))f[l].addEventListener("input",e=>{var t=e.target.value;if(t.trim())for(var o of d[l])o.innerText.toLowerCase().includes(t.toLowerCase())?o.style.display="block":o.style.display="none";else for(var r of d[l])r.style.display="block"});s()},window.formFieldsDropdown();